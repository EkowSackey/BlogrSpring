type Query {

    getPost(id:ID): PostResponse

    getAllPosts(authorId: String, tag: String, page: Int, size: Int, sort: String): PostPage

    getUser(id: ID!): UserResponse

}

type Mutation {
    createPost(request: CreatePostInput!): PostResponse
    updatePost(id: ID! request: UpdatePostInput!): PostResponse
    deletePost(id: ID!): Boolean
    registerUser(request: UserRegistrationInput!): UserResponse
    createComment(request: CreateCommentInput!) : CommentResponse
    deleteComment(id: ID): Boolean
}

input CreatePostInput {
    title: String!
    content: String!
    authorId: String!
    tags: [String]
}

input UpdatePostInput {
    title: String!
    content: String!
    tags: [String]!
}

input UserRegistrationInput {
    username: String!
    email: String
    roles: [String]
}

input CreateCommentInput{
    commentBody: String!
    postId: String!
}

type PostResponse {
    id: ID
    title: String
    content: String
    authorId: String
    tags: [String]
    createdAt: String
    lastUpdate: String
}

type CommentResponse {
    id: ID
    content: String
    authorId: String
    parentId: String
    createdAt: String
}

type PostPage {
    content: [PostResponse]
    totalPages: Int
    totalElements: Int
    isLast: Boolean
}

type UserResponse{
    id: ID
    username: String
    email: String
    role: String
}